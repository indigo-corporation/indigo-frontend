<nav id="navbar" (scroll)="onWindowScroll($event)" class="container navbar navbar-expand-lg navbar-light bg-light header">
  <a class="brand" routerLink="" href="">INDIGOFILMS</a>
  <button *ngIf="!login" mat-button (click)="openModal()" class="login2">Войти
  </button>
  <div *ngIf="login" class="login">
    <!--  <i routerLink="/friends" class="fa fa-users user-nav" aria-hidden="true">
      <span class="icon-info">1</span>
    </i>
    <i routerLink="/message" class="far fa-envelope user-nav" aria-hidden="true">
      <span class="icon-info">1</span>
    </i>
      <i (click)="toggleBell()" class="far fa-bell user-nav" aria-hidden="true">
        <span class="icon-info">1</span>
      </i>  -->
    <div style="position: relative;">
      <img (click)="toggleMenu()" class="user-photo" onerror="if(this.src != 'error.jpg') this.src = 'assets/avatar.jpg';"
        [src]="user.poster_url" alt="">
        <ul [@subMenuAnimation] class="menu-user" *ngIf="isMenuOpen">
          <li class="name-menu"> <i class="fa fa-user menu-user-i" aria-hidden="true"></i><a class="item-menu" href="/user-page"  routerLink="/user-page">Профиль</a></li>
          <li class="name-menu"> <i class="fa fa-cog menu-user-i" aria-hidden="true"></i><a class="item-menu" href="/user-settings" routerLink="/user-settings">Настройки</a></li>
          <li class="name-menu" (click)="signOut()"> <i class="fas fa-sign-out-alt menu-user-i" aria-hidden="true"></i><a class="item-menu" >Выход</a></li>
          </ul>
    </div> 
  </div>
 
  <button type="button" class="btn btn-outline-primary" (click)="isCollapsed = !isCollapsed"
    [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse menu-header" id="collapseExample" [ngbCollapse]="isCollapsed">
    <div class="menu-search">
      <ul class="navbar-nav mr-auto ml-auto mt-1 mt-lg-1">
        <li class="nav-item">
          <a class="nav-link" routerLink="/film" href="/film" routerLinkActive="active">Фильмы
          </a>
          <button class="btn-menu" (click)="genreArrow($event)">
            <i id="isArrow1" class='fas fa-caret-down arrow btn-menu'></i>
          </button>
          <app-genre-menu [@subMenuAnimation] type="film" *ngIf="isArrow1"></app-genre-menu>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/serial" href="/serial">Сериалы
          </a>
          <button class="btn-menu" (click)="genreArrow($event)">
            <i id="isArrow2" class='fas fa-caret-down arrow'></i>
          </button>
          <app-genre-menu [@subMenuAnimation] type="serial" *ngIf="isArrow2"></app-genre-menu>
        </li>

        <li class="nav-item">
          <a class="nav-link" routerLink="/cartoon" href="/cartoon">Мультфильмы
          </a>
          <button class="btn-menu" (click)="genreArrow($event)">
            <i id="isArrow3" class='fas fa-caret-down arrow'></i>
          </button>
          <app-genre-menu [@subMenuAnimation] type="cartoon" *ngIf="isArrow3"></app-genre-menu>
        </li>

        <li class="nav-item">
          <a class="nav-link" routerLink="/anime" href="/anime">Аниме
          </a>
          <button class="btn-menu" (click)="genreArrow($event)">
            <i id="isArrow4" class='fas fa-caret-down arrow'></i>
          </button>
          <app-genre-menu [@subMenuAnimation] *ngIf="isArrow4" type="anime"></app-genre-menu>
        </li>

        <li class="nav-item">
          <button class="nav-link" (click)="toggleSearch()"><i class="fas fa-search search-icon"></i></button>
        </li>

      </ul>
    </div>
    <app-search autofocus [@enterAnimation] class="input-search" *ngIf="isShown" appAutoFocusDirective  (onSearchSubmmited)="searchClose($event)"></app-search>
  </div>
  <app-all-notifications *ngIf="isNotification"></app-all-notifications>
</nav>